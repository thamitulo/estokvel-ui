<!-- Top Bar Section - Pink (Full Width) -->
<div class="top-bar">
  <div class="top-bar-content">
    <div class="top-bar-text">Take control of your future, start today!</div>
    <div class="top-bar-links">
      <a href="#">Faqs</a>
      <a href="#">Contact Us</a>
    </div>
  </div>
</div>

<!-- Main Toolbar - White (Full Width) -->
<mat-toolbar color="default" class="main-toolbar">
  <div class="toolbar-container">
    <div class="toolbar-left">
      <button mat-icon-button class="mobile-menu-button" (click)="toggleSidenav()">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="logo-text">eStokvel</span>
    </div>

    <div class="desktop-menu">
      <button mat-button *ngFor="let item of visibleMenuItems" (click)="navigate(item.route)">
        {{ item.label }}
      </button>
    </div>

    <span class="spacer"></span>

    <div class="toolbar-right">
      <div class="auth-buttons" *ngIf="!(auth.isAuthenticated$ | async)">
        <button mat-stroked-button color="primary" class="auth-button login-btn" (click)="login()">Log In</button>
        <button mat-raised-button color="primary" class="auth-button signup-btn" (click)="login()">Sign Up</button>
      </div>

      <!-- Show profile dropdown when authenticated -->
      <ng-container *ngIf="auth.user$ | async as user">
        <button
          mat-button
          [matMenuTriggerFor]="profileMenu"
          class="profile-button"
        >
          My Profile
          <mat-icon>arrow_drop_down</mat-icon>
        </button>

        <mat-menu #profileMenu="matMenu" class="custom-profile-menu">
          <div class="profile-header">
            <mat-icon>account_circle</mat-icon>
            <div class="profile-info">
              <span class="greeting">Hi,</span>
              <span class="name">{{ user.name || user.nickname || 'there' }}</span>
            </div>
          </div>

          <mat-divider></mat-divider>

          <button mat-menu-item>
            <mat-icon>settings</mat-icon>
            <span>Account Settings</span>
          </button>
          <button mat-menu-item>
            <mat-icon>history</mat-icon>
            <span>Transaction History</span>
          </button>
          <button mat-menu-item>
            <mat-icon>notifications</mat-icon>
            <span>Notifications</span>
          </button>
          <button mat-menu-item>
            <mat-icon>help_outline</mat-icon>
            <span>Support</span>
          </button>

          <mat-divider></mat-divider>

          <button mat-menu-item (click)="logout()" class="logout-item">
            <mat-icon color="warn">logout</mat-icon>
            <span>Logout</span>
          </button>
        </mat-menu>
      </ng-container>
    </div>
  </div>
</mat-toolbar>
